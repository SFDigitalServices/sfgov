(function(e,s,t,r){'use strict';t.behaviors.AJAX={attach:function(s,r){function i(s){var a=r.ajax[s];if(typeof a.selector==='undefined'){a.selector='#'+s};e(a.selector).once('drupal-ajax').each(function(){a.element=this;a.base=s;t.ajax(a)})};for(var a in r.ajax){if(r.ajax.hasOwnProperty(a)){i(a)}};e('.use-ajax').once('ajax').each(function(){var s={};s.progress={type:'throbber'};var r=e(this).attr('href');if(r){s.url=r;s.event='click'};s.dialogType=e(this).data('dialog-type');s.dialog=e(this).data('dialog-options');s.base=e(this).attr('id');s.element=this;t.ajax(s)});e('.use-ajax-submit').once('ajax').each(function(){var s={};s.url=e(this.form).attr('action');s.setClick=!0;s.event='click';s.progress={type:'throbber'};s.base=e(this).attr('id');s.element=this;t.ajax(s)})},detach:function(e,s,r){if(r==='unload'){t.ajax.expired().forEach(function(e){t.ajax.instances[e.instanceIndex]=null})}}};t.AjaxError=function(s,r,a){var o,n,c,i,p;if(s.status){o='\n'+t.t('An AJAX HTTP error occurred.')+'\n'+t.t('HTTP Result Code: !status',{'!status':s.status})}
else{o='\n'+t.t('An AJAX HTTP request terminated abnormally.')};o+='\n'+t.t('Debugging information follows.');c='\n'+t.t('Path: !uri',{'!uri':r});n='';try{n='\n'+t.t('StatusText: !statusText',{'!statusText':e.trim(s.statusText)})}catch(l){};i='';try{i='\n'+t.t('ResponseText: !responseText',{'!responseText':e.trim(s.responseText)})}catch(l){};i=i.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');i=i.replace(/[\n]+\s+/g,'\n');p=s.status===0?('\n'+t.t('ReadyState: !readyState',{'!readyState':s.readyState})):'';a=a?('\n'+t.t('CustomMessage: !customMessage',{'!customMessage':a})):'';this.message=o+c+n+a+i+p;this.name='AjaxError'};t.AjaxError.prototype=new Error();t.AjaxError.prototype.constructor=t.AjaxError;t.ajax=function(e){if(arguments.length!==1){throw new Error('Drupal.ajax() function must be called with one configuration object only')};var a=e.base||!1,r=e.element||!1;delete e.base;delete e.element;if(!e.progress&&!r){e.progress=!1};var s=new t.Ajax(a,r,e);s.instanceIndex=t.ajax.instances.length;t.ajax.instances.push(s);return s};t.ajax.instances=[];t.ajax.expired=function(){return t.ajax.instances.filter(function(e){return e&&e.element!==!1&&!document.body.contains(e.element)})};t.Ajax=function(s,a,i){var c={event:a?'mousedown':null,keypress:!0,selector:s?'#'+s:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:t.t('Please wait...')},submit:{js:!0}};e.extend(this,c,i);this.commands=new t.AjaxCommands();this.instanceIndex=!1;if(this.wrapper){this.wrapper='#'+this.wrapper};this.element=a;this.element_settings=i;if(this.element&&this.element.form){this.$form=e(this.element.form)};if(!this.url){var n=e(this.element);if(n.is('a')){this.url=n.attr('href')}
else if(this.element&&a.form){this.url=this.$form.attr('action')}};var l=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/g,'/ajax$1');if(r.ajaxTrustedUrl[l]){r.ajaxTrustedUrl[this.url]=!0};var o=this;o.options={url:o.url,data:o.submit,beforeSerialize:function(e,t){return o.beforeSerialize(e,t)},beforeSubmit:function(e,t,s){o.ajaxing=!0;return o.beforeSubmit(e,t,s)},beforeSend:function(e,t){o.ajaxing=!0;return o.beforeSend(e,t)},success:function(s,a,i){if(typeof s==='string'){s=e.parseJSON(s)};if(s!==null&&!r.ajaxTrustedUrl[o.url]){if(i.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var n=t.t('The response failed verification so will not be processed.');return o.error(i,o.url,n)}};return o.success(s,a)},complete:function(e,t){o.ajaxing=!1;if(t==='error'||t==='parsererror'){return o.error(e,o.url)}},dataType:'json',type:'POST'};if(i.dialog){o.options.data.dialogOptions=i.dialog};if(o.options.url.indexOf('?')===-1){o.options.url+='?'}
else{o.options.url+='&'};o.options.url+=t.ajax.WRAPPER_FORMAT+'=drupal_'+(i.dialogType||'ajax');e(o.element).on(i.event,function(e){if(!r.ajaxTrustedUrl[o.url]&&!t.url.isLocal(o.url)){throw new Error(t.t('The callback URL is not local and not trusted: !url',{'!url':o.url}))};return o.eventResponse(this,e)});if(i.keypress){e(o.element).on('keypress',function(e){return o.keypressResponse(this,e)})};if(i.prevent){e(o.element).on(i.prevent,!1)}};t.ajax.WRAPPER_FORMAT='_wrapper_format';t.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';t.Ajax.prototype.execute=function(){if(this.ajaxing){return};try{this.beforeSerialize(this.element,this.options);return e.ajax(this.options)}catch(t){this.ajaxing=!1;s.alert('An error occurred while attempting to process '+this.options.url+': '+t.message);return e.Deferred().reject()}};t.Ajax.prototype.keypressResponse=function(t,s){var r=this;if(s.which===13||(s.which===32&&t.type!=='text'&&t.type!=='textarea'&&t.type!=='tel'&&t.type!=='number')){s.preventDefault();s.stopPropagation();e(r.element_settings.element).trigger(r.element_settings.event)}};t.Ajax.prototype.eventResponse=function(t,r){r.preventDefault();r.stopPropagation();var a=this;if(a.ajaxing){return};try{if(a.$form){if(a.setClick){t.form.clk=t};a.$form.ajaxSubmit(a.options)}
else{a.beforeSerialize(a.element,a.options);e.ajax(a.options)}}catch(i){a.ajaxing=!1;s.alert('An error occurred while attempting to process '+a.options.url+': '+i.message)}};t.Ajax.prototype.beforeSerialize=function(e,s){if(this.$form){var i=this.settings||r;t.detachBehaviors(this.$form.get(0),i,'serialize')};s.data[t.Ajax.AJAX_REQUEST_PARAMETER]=1;var a=r.ajaxPageState;s.data['ajax_page_state[theme]']=a.theme;s.data['ajax_page_state[theme_token]']=a.theme_token;s.data['ajax_page_state[libraries]']=a.libraries};t.Ajax.prototype.beforeSubmit=function(e,t,s){};t.Ajax.prototype.beforeSend=function(t,s){if(this.$form){s.extraData=s.extraData||{};s.extraData.ajax_iframe_upload='1';var a=e.fieldValue(this.element);if(a!==null){s.extraData[this.element.name]=a}};e(this.element).prop('disabled',!0);if(!this.progress||!this.progress.type){return};var r='setProgressIndicator'+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();if(r in this&&typeof this[r]==='function'){this[r].call(this)}};t.Ajax.prototype.setProgressIndicatorBar=function(){var s=new t.ProgressBar('ajax-progress-'+this.element.id,e.noop,this.progress.method,e.noop);if(this.progress.message){s.setProgress(-1,this.progress.message)};if(this.progress.url){s.startMonitoring(this.progress.url,this.progress.interval||1500)};this.progress.element=e(s.element).addClass('ajax-progress ajax-progress-bar');this.progress.object=s;e(this.element).after(this.progress.element)};t.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=e('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>');if(this.progress.message){this.progress.element.find('.throbber').after('<div class="message">'+this.progress.message+'</div>')};e(this.element).after(this.progress.element)};t.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=e('<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>');e('body').after(this.progress.element)};t.Ajax.prototype.success=function(s,a){if(this.progress.element){e(this.progress.element).remove()};if(this.progress.object){this.progress.object.stopMonitoring()};e(this.element).prop('disabled',!1);var l=e(this.element).parents('[data-drupal-selector]').addBack().toArray(),c=!1;for(var i in s){if(s.hasOwnProperty(i)&&s[i].command&&this.commands[s[i].command]){this.commands[s[i].command](this,s[i],a);if(s[i].command==='invoke'&&s[i].method==='focus'){c=!0}}};if(!c&&this.element&&!e(this.element).data('disable-refocus')){var o=!1;for(var n=l.length-1;!o&&n>0;n--){o=document.querySelector('[data-drupal-selector="'+l[n].getAttribute('data-drupal-selector')+'"]')};if(o){e(o).trigger('focus')}};if(this.$form){var p=this.settings||r;t.attachBehaviors(this.$form.get(0),p)};this.settings=null};t.Ajax.prototype.getEffect=function(e){var s=e.effect||this.effect,r=e.speed||this.speed,t={};if(s==='none'){t.showEffect='show';t.hideEffect='hide';t.showSpeed=''}
else if(s==='fade'){t.showEffect='fadeIn';t.hideEffect='fadeOut';t.showSpeed=r}
else{t.showEffect=s+'Toggle';t.hideEffect=s+'Toggle';t.showSpeed=r};return t};t.Ajax.prototype.error=function(s,a,i){if(this.progress.element){e(this.progress.element).remove()};if(this.progress.object){this.progress.object.stopMonitoring()};e(this.wrapper).show();e(this.element).prop('disabled',!1);if(this.$form){var o=this.settings||r;t.attachBehaviors(this.$form.get(0),o)};throw new t.AjaxError(s,a,i)};t.AjaxCommands=function(){};t.AjaxCommands.prototype={insert:function(s,a,i){var c=a.selector?e(a.selector):e(s.wrapper),p=a.method||s.method,n=s.getEffect(a),l,h=e('<div></div>').html(a.data),o=h.contents();if(o.length!==1||o.get(0).nodeType!==1){o=h};switch(p){case'html':case'replaceWith':case'replaceAll':case'empty':case'remove':l=a.settings||s.settings||r;t.detachBehaviors(c.get(0),l)};c[p](o);if(n.showEffect!=='show'){o.hide()};if(o.find('.ajax-new-content').length>0){o.find('.ajax-new-content').hide();o.show();o.find('.ajax-new-content')[n.showEffect](n.showSpeed)}
else if(n.showEffect!=='show'){o[n.showEffect](n.showSpeed)};if(o.parents('html').length>0){l=a.settings||s.settings||r;t.attachBehaviors(o.get(0),l)}},remove:function(s,a,i){var o=a.settings||s.settings||r;e(a.selector).each(function(){t.detachBehaviors(this,o)}).remove()},changed:function(s,r,a){var i=e(r.selector);if(!i.hasClass('ajax-changed')){i.addClass('ajax-changed');if(r.asterisk){i.find(r.asterisk).append(' <abbr class="ajax-changed" title="'+t.t('Changed')+'">*</abbr> ')}}},alert:function(e,t,r){s.alert(t.text,t.title)},redirect:function(e,t,r){s.location=t.url},css:function(t,s,r){e(s.selector).css(s.argument)},settings:function(s,a,i){var o=r.ajax;if(o){t.ajax.expired().forEach(function(e){if(e.selector){var t=e.selector.replace('#','');if(t in o){delete o[t]}}})};if(a.merge){e.extend(!0,r,a.settings)}
else{s.settings=a.settings}},data:function(t,s,r){e(s.selector).data(s.name,s.value)},invoke:function(t,s,r){var a=e(s.selector);a[s.method].apply(a,s.args)},restripe:function(t,s,r){e(s.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even')},update_build_id:function(t,s,r){e('input[name="form_build_id"][value="'+s.old+'"]').val(s.new)},add_css:function(t,s,r){e('head').prepend(s.data);var a,i=/^@import url\("(.*)"\);$/igm;if(document.styleSheets[0].addImport&&i.test(s.data)){i.lastIndex=0;do{a=i.exec(s.data);document.styleSheets[0].addImport(a[1])}
while(a);}}}})(jQuery,window,Drupal,drupalSettings);