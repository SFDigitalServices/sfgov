<?php

namespace Drupal\sfgov_api\Plugin\SfgApi\{{ entity_type_ucfirst }};

{% if use_helper %}
use Drupal\sfgov_api\Plugin\SfgApi\ApiFieldHelperTrait;
{% endif %}

/**
 * Plugin implementation of the sfgov_api.
 *
 * @SfgApi(
 *   id = "{{entity_type}}_{{ bundle }}",
 *   title = @Translation("{{ entity_type_ucfirst }} {{ bundle }}"),
 *   bundle = "{{ bundle }}",
 *   wag_bundle = "{{ bundle }}", // ATTENTION: this value needs manual verification.
 *   entity_id = {},
 *   langcode = {},
 * )
 */
class {{ bundle_camelize }} extends SfgApi{{ entity_type_ucfirst }}Base {

{% if use_helper %}
  use ApiFieldHelperTrait;
{% endif %}
{% if not bundle_exists %}
  // Not able to find a bundle with of this entity type. Please create one.
{% endif %}

  /**
   * {@inheritDoc}
   */
  public function setCustomData($entity) {
    return [
    {% if entity_fields %}
    // ATTENTION: THIS IS JUST A STARTING POINT, REFINE THESE DOWN TO THE FIELDS YOU ACTUALLY WANT. ALSO THE ->value function won't work for all fields
    {% for entity_field in entity_fields %}
      '{{ entity_field }}' => $entity->get('{{ entity_field }}')->value,
    {% endfor %}
    {% endif %}
    ];
  }

}
