{"version":3,"sources":["sfgov-admin.js"],"names":["$","Drupal","document","window","behaviors","sfgovAdminToolbarReizeTweak","attach","context","matchMedia","addListener","event","matches","click","sfgovAdminSidebarToggle","once","wrapInner","prepend","t","on","preventDefault","$container","$sidebar","hasClass","show","removeClass","hide","addClass","not","sfgovParagraphAddDropbutton","jQuery"],"mappings":"AAAA;;;;;AAKC,WAASA,CAAT,EAAYC,MAAZ,EAAoBC,QAApB,EAA8BC,MAA9B,EAAsC;;AAErC;;;;AAIAF,SAAOG,SAAP,CAAiBC,2BAAjB,GAA+C;AAC7CC,YAAQ,UAAUC,OAAV,EAAmB;AACzBJ,aAAOK,UAAP,CAAkB,oBAAlB,EAAwCC,WAAxC,CAAoD,UAASC,KAAT,EAAgB;AAClEA,cAAMC,OAAN,GAAgBX,EAAE,8BAAF,EAAkCO,OAAlC,EAA2CK,KAA3C,EAAhB,GAAqEZ,EAAE,yBAAF,EAA6BO,OAA7B,EAAsCK,KAAtC,EAArE;AACD,OAFD;AAGD;AAL4C,GAA/C;;AAQA;;;AAGAX,SAAOG,SAAP,CAAiBS,uBAAjB,GAA2C;AACzCP,YAAQ,UAAUC,OAAV,EAAmB;;AAEzBP,QAAE,+BAAF,EAAmCO,OAAnC,EAA4CO,IAA5C,CAAiD,eAAjD,EACGC,SADH,CACa,oCADb,EAEGC,OAFH,CAEW,2FAA2Ff,OAAOgB,CAAP,CAAS,gBAAT,CAA3F,GAAwH,4DAFnI;;AAIAjB,QAAEE,QAAF,EAAYgB,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,UAASR,KAAT,EAAgB;AACzDA,cAAMS,cAAN;AACA,YAAIC,aAAapB,EAAE,mBAAF,EAAuBO,OAAvB,CAAjB;AACA,YAAIc,WAAWrB,EAAE,yBAAF,EAA6BO,OAA7B,CAAf;;AAEA,YAAIa,WAAWE,QAAX,CAAoB,uBAApB,CAAJ,EAAkD;AAChDD,mBAASE,IAAT;AACAH,qBAAWI,WAAX,CAAuB,uBAAvB;AACD,SAHD,MAIK;AACHH,mBAASI,IAAT;AACAL,qBAAWM,QAAX,CAAoB,uBAApB;AACD;AACF,OAbD;;AAeA;AACA;AACA;AACA;AACAvB,aAAOK,UAAP,CAAkB,wFAAlB,EAA4GC,WAA5G,CAAwH,UAASC,KAAT,EAAgB;AACtI,YAAIA,MAAMC,OAAN,IAAiBX,EAAE,yBAAF,EAA6BO,OAA7B,EAAsCoB,GAAtC,CAA0C,UAA1C,CAArB,EAA4E;AAC1E3B,YAAE,iBAAF,EAAqBO,OAArB,EAA8BK,KAA9B;AACD;AACF,OAJD;AAMD;AAhCwC,GAA3C;AAkCAX,SAAOG,SAAP,CAAiBwB,2BAAjB,GAA+C;AAC7CtB,YAAQ,UAAUC,OAAV,EAAmB;AACzB;AACAP,QAAE,iCAAF,EAAqCO,OAArC,EACGO,IADH,GAEGI,EAFH,CAEM,OAFN,EAEe,UAAUR,KAAV,EAAiB;AAAEA,cAAMS,cAAN;AAAyB,OAF3D;AAGD;AAN4C,GAA/C;AASD,CA5DA,EA4DCU,MA5DD,EA4DS5B,MA5DT,EA4DiBC,QA5DjB,EA4D2BC,MA5D3B,CAAD","file":"sfgov-admin.js","sourcesContent":["/**\n * @file\n * General tweaks for the administrative user interface. This file is loaded on\n * all pages where the administrative theme is in use.\n */\n(function($, Drupal, document, window) {\n\n  /**\n   * Prevents the Administrative Toolbar from popping out as a sidebar when\n   * screen width is reduced.\n   */\n  Drupal.behaviors.sfgovAdminToolbarReizeTweak = {\n    attach: function (context) {\n      window.matchMedia('(min-width: 975px)').addListener(function(event) {\n        event.matches ? $('#toolbar-item-administration', context).click() : $('.toolbar-item.is-active', context).click();\n      });\n    }\n  };\n\n  /**\n   * Adds a button that Toggles the Node edit form sidebar.\n   */\n  Drupal.behaviors.sfgovAdminSidebarToggle = {\n    attach: function (context) {\n\n      $('.layout-region-node-secondary', context).once('sidebarToggle')\n        .wrapInner('<div id=\"sidebar-toggle-content\"/>')\n        .prepend('<button id=\"sidebar-toggle\" class=\"sidebar-toggle\"><span class=\"sidebar-toggle__text\">' + Drupal.t('Toggle sidebar') + '</span><span class=\"sidebar-toggle__icon\"></span></button>');\n\n      $(document).on('click', '#sidebar-toggle', function(event) {\n        event.preventDefault();\n        var $container = $('.layout-node-form', context);\n        var $sidebar = $('#sidebar-toggle-content', context);\n\n        if ($container.hasClass('sidebar-toggle-active')) {\n          $sidebar.show();\n          $container.removeClass('sidebar-toggle-active');\n        }\n        else {\n          $sidebar.hide();\n          $container.addClass('sidebar-toggle-active');\n        }\n      });\n\n      // This media query maps to the Seven theme's breakpoint for when the\n      // sidebar appears in the right column. When the screen resized from a\n      // large width, to a smaller width, and the sidebar appears below the\n      // content, this initiates a click on the toggle to show the sidebar.\n      window.matchMedia('screen and (max-width: 780px), (max-device-height: 780px) and (orientation: landscape)').addListener(function(event) {\n        if (event.matches && $('#sidebar-toggle-content', context).not(':visible')) {\n          $('#sidebar-toggle', context).click();\n        }\n      });\n\n    }\n  };\n  Drupal.behaviors.sfgovParagraphAddDropbutton = {\n    attach: function (context) {\n      // The add button is just a placeholder for the add buttons. Clicking it should have no affect.\n      $('.sfgov-admin-paragraph-add-link', context)\n        .once()\n        .on('click', function (event) { event.preventDefault(); });\n    }\n  };\n\n}(jQuery, Drupal, document, window));\n"]}