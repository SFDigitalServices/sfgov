{% macro nav_list(links, subclass) %}
  {% for item in links %}
    <li>
      <a href="{{ item.href }}"{% if item.current %} class="usa-current"{% endif %}>
        {{ item.text }}
      </a>
      {% if item.current and item.links %}
        <ul class="{{ subclass }}">
          {{ nav_list(item.links, subclass) }}
        </ul>
      {% endif %}
    </li>
  {% endfor %}
{% endmacro %}


{% import _self as forms %}

{#{{ forms.nav_list(sidenav.links) }}#}
{#{{ forms.nav_list(sidenav.links, 'usa-sidenav-sub_list') }}#}

<nav>
  <ul class="usa-sidenav-list">

    {{ forms.nav_list(sidenav.links, 'usa-sidenav-sub_list') }}

    {#{% include '@navlist' with { links : sidenav.links, 'usa-sidenav-sub_list' } %}#}
    {#{{ _self.nav_list(sidenav.links, 'usa-sidenav-sub_list') }}#}
  </ul>
</nav>
